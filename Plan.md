# План тестирования
Ниже приведён план тестирования сервиса покупки туров, взаимодействующего с СУБД и API Банка. <br />
<br />
Тестирование выполняется в рамках качестве дипломного проекта Анастасии Суриной на курсе Тестировщик ПО от Нетологии в мае 2020 года.
### Перечень используемых инструментов
- Git и Github
  - Удобная система контроля версий для хранения кода.
- Docker
  - Docker позволяет облегчить настройку необходимых для запуска и работы сервиса зависимостей, таких как MySQL, PostgreSQL, Node, скоординировать их взаимодействие.
  - Планируется прибегнуть к докеризации приложения: создать Dockerfile, который будет запускать контейнер с симулятором банковских сервисов, два контейнера с разными СУБД и два инстанса исходного Java-приложения, развернутого на разных портах (по одному на каждую БД).
  - Таким образом будет достигнута высокая степень автоматизации: настройка системы перед запуском автотестов сведётся к запуску Dockerfile. 
- Java 11
- Автотесты под управлением Gradle на базе библиотеки JUnit5
- Фреймворк для автоматизированного тестирования веб-приложений Selenide
  - Автоматически скачивает драйвер для браузера.
  - Упрощает поиск элементов.
  - Удобен в использовании.
- Веб-браузер Google Chrome
- Lombok
  - Упрощает создание data-классов, таких как PageObject, и классов для хранения тестовых данных.
  - Это позволит изолировать логику получения/генерации данных, логику взаимодействия с веб-страницей и логику взаимодействия с базой данных от логики самих автотестов.
- Mysql-connector
  - Позволяет прямо из тестов взаимодействовать с базой данных.
- Система репортинга Allure.
  - Удобно интегрируется со всеми остальными инструментами.
  - Позволяет получать развернутый отчёт со скриншотами.
### Перечень автоматизируемых сценариев
- Позитивные
  - Валидные данные: указан номер карты из списка со статусом APPROVED, корректно заполнены поля "Год" и "Месяц", их значения не просроченны, поле "Владелец" заполено латинскими буквами, в поле "CVC/CVV" введены любые три цифры.<br />
  
  Проверяется поведение веб-интерфейса: уведомление об успешной операции для пользователя, а также статус операции в базе данных. <br />
  Сценарий повторяется четырежды: для покупки по карте и покупки в кредит при взаимодействии с двумя разными СУБД.
- Негативные
  - Невалидный номер карты: указан номер карты из списка со статусом DECLINED, корректно заполнены поля "Год" и "Месяц", их значения не просроченны, поле "Владелец" заполено латинскими буквами, в поле "CVC/CVV" введены любые три цифры. <br />

    Проверяется поведение веб-интерфейса: уведомление об отказе от Банка для пользователя, а также статус операции в базе данных. <br />	
  - Невалидный номер карты: указан номер карты не из списка, корректно заполнены поля "Год" и "Месяц", их значения не просроченны, поле "Владелец" заполено латинскими буквами, в поле "CVC/CVV" введены любые три цифры. <br />

    Проверяется поведение веб-интерфейса: уведомление об отказе от Банка для пользователя, а также статус операции в базе данных. <br />
    	
  - Карта с истекшим сроком (годом) действия.<br />
  
    Проверяется поведение веб-интерфейса: уведомление об ошибке, форма не отправлена. <br />
  - Некорректное обозначение года.<br />
  
    Проверяется поведение веб-интерфейса: уведомление об ошибке, форма не отправлена. <br />    
  - Некорректное обозначение месяца (число вне диапазона 01-12).<br />
  
    Проверяется поведение веб-интерфейса: уведомление об ошибке, форма не отправлена. <br />	
  - Некорректное обозначение CVC/CVV.<br />
  
    Проверяется поведение веб-интерфейса: уведомление об ошибке, форма не отправлена. <br />
  - Недопустимый формат в поле "Владелец": цифры, кириллица, спецсимволы. <br />
  
    Проверяется поведение веб-интерфейса: уведомление об ошибке, форма не отправлена. <br />
  - Попытка отправки формы с пустыми полями.<br />
  
    Проверяется поведение веб-интерфейса: уведомление об ошибке, форма не отправлена. <br />	
        	
Сценарии повторяются четырежды: для покупки по карте и покупки в кредит при взаимодействии с двумя разными СУБД. <br />
    	
### Перечень и описание возможных рисков при автоматизации
- Тестированию подвергается не финальная версия сервиса, а его демо-версия. Если в финальную версию будут внесены изменения, тестирование текущей версии может стать неактуальным.
- Отсутствует чёткое ТЗ, а значит, есть риск неправильно определить ожидаемое поведение сервиса (например, корректность или некорректность заполнения поля "Владелец" кириллицей).
### Интервальная оценка с учётом рисков (в часах)
- 10 часов.
### План сдачи работ (когда будут авто-тесты, результаты их прогона и отчёт по автоматизации)
- Авто-тесты будут готовы не позднее 30.05.
- Отчётные документы по итогам тестирования будут готовы не позднее 02.06.

